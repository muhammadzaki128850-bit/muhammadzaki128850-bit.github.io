<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Mapel - Tugas Online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Semua CSS kamu tetap sama */
        *{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif;}
        body{background:linear-gradient(to bottom,#341931,#000);display:flex;justify-content:center;align-items:center;min-height:100vh;color:white;}
        #loginPage,#mapelPage,#tugasPage{display:none;width:100%;height:100vh;padding:20px;}
        #loginPage{display:block;text-align:center;width:90%;max-width:380px;background:rgba(255,255,255,0.1);padding:30px 25px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.1);}
        #loginPage h2{margin-bottom:10px;color:#eee;}
        #loginPage p{margin-bottom:20px;color:#ccc;}
        #loginPage input{width:100%;padding:10px;border:1px solid #666;border-radius:8px;margin-bottom:15px;background:rgba(255,255,255,0.2);color:white;}
        #loginPage input::placeholder{color:#bbb;}
        #loginPage button{width:100%;padding:10px;background:#663399;color:white;border:none;border-radius:8px;font-size:16px;cursor:pointer;transition:background-color .3s ease;}
        #loginPage button:hover{background:#442266;}
        #loginPage small{color:#ff6666;display:none;}
        .mapel-container{max-width:500px;background:rgba(255,255,255,0.1);margin:auto;padding:25px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.3);text-align:left;height:calc(100vh - 40px);overflow-y:auto;border:1px solid rgba(255,255,255,0.1);}
        .mapel-container h1{text-align:center;margin-bottom:20px;color:#eee;}
        .mapel-container ul{list-style:none;}
        .mapel-container li{background:rgba(102,51,153,0.3);padding:12px 15px;border-radius:10px;margin-bottom:10px;cursor:pointer;transition:background-color .3s ease;color:white;}
        .mapel-container li:hover{background:rgba(68,34,102,0.5);}
        .mapel-container button{width:100%;margin-top:15px;padding:10px;background:#663399;border:none;color:white;border-radius:10px;cursor:pointer;transition:background-color .3s ease;}
        .mapel-container button:hover{background:#442266;}
        .tugas-card{background:rgba(255,255,255,0.1);border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.3);padding:20px;max-width:500px;margin:auto;height:calc(100vh - 40px);overflow-y:auto;border:1px solid rgba(255,255,255,0.1);}
        .tugas-card h1{text-align:center;margin-bottom:10px;color:#eee;}
        .tugas-card button{padding:10px 15px;background:#663399;border:none;color:white;border-radius:10px;cursor:pointer;margin-top:10px;transition:background-color .3s ease;}
        .tugas-card button:hover{background:#442266;}
        .tugas-item{background:rgba(102,51,153,0.3);padding:10px;border-radius:8px;margin-bottom:10px;text-align:left;color:white;}
        .tugas-item a{color:#99ccff;text-decoration:none;}
        .tugas-item a:hover{text-decoration:underline;}
        .sidebar{height:100%;width:200px;position:fixed;top:0;left:-200px;background-color:#331a33;padding-top:20px;border-right:1px solid #221122;box-shadow:4px 0 12px rgba(0,0,0,0.5);display:flex;flex-direction:column;align-items:center;transition:left .3s ease;z-index:1000;}
        .sidebar a{padding:16px;text-decoration:none;font-size:18px;color:#eee;display:block;transition:.3s;width:100%;text-align:center;}
        .sidebar a:hover{background-color:#442244;}
        .sidebar i{margin-right:10px;}
        #sidebarToggle{position:fixed;top:20px;left:20px;background:#663399;color:white;border:none;border-radius:8px;padding:10px 15px;cursor:pointer;display:none;z-index:1001;}
        .sidebar.open{left:0;}
        /* Tambahan kecil biar banner di bawah rapi */
        .adsterra-banner {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <!-- Semua HTML kamu tetap sama -->
    <button id="sidebarToggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
    <div class="sidebar">
        <a href="#" onclick="tampilkanMapel()"><i class="fas fa-book"></i> Mapel</a>
        <a href="#" onclick="tampilkanTugas()"><i class="fas fa-tasks"></i> Tugas</a>
        <a href="https://www.tiktok.com/@zakkh313?_t=ZS-90fUHQ8o7jW&_r" target="_blank"><i class="fab fa-tiktok"></i> TikTok</a>
        <a href="https://www.instagram.com/zki_xyyz?igsh=MWRwYXJrazAyejJicQ==" target="_blank"><i class="fab fa-instagram"></i> Instagram</a>
        <a href="https://wa.me/6285180009635" target="_blank"><i class="fab fa-whatsapp"></i> WhatsApp</a>
        <a href="donasi.html" target="_blank"><i class="fas fa-heart"></i> Donasi</a>
    </div>

    <div id="loginPage">
        <h2>Masukkan Password</h2>
        <p>Masukkan password admin atau viewer untuk membuka halaman.</p>
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Buka Halaman</button>
        <small id="errorMsg">Password salah!</small>
    </div>

    <div id="mapelPage">
        <div class="mapel-container">
            <h1>Daftar Mata Pelajaran</h1>
            <ul>
                <li onclick="bukaTugas('Administrasi Sistem Jaringan (ASJ)')">Administrasi Sistem Jaringan (ASJ)</li>
                <li onclick="bukaTugas('Administrasi Infrastruktur Jaringan (AIJ)')">Administrasi Infrastruktur Jaringan (AIJ)</li>
                <li onclick="bukaTugas('Produk Kreatif dan Kewirausahaan (PKK)')">Produk Kreatif dan Kewirausahaan (PKK)</li>
                <li onclick="bukaTugas('Bahasa Inggris')">Bahasa Inggris</li>
                <li onclick="bukaTugas('Bahasa Jepang')">Bahasa Jepang</li>
                <li onclick="bukaTugas('Bahasa Jerman')">Bahasa Jerman</li>
                <li onclick="bukaTugas('Matematika')">Matematika</li>
                <li onclick="bukaTugas('Bahasa Indonesia')">Bahasa Indonesia</li>
                <li onclick="bukaTugas('Pendidikan Agama Islam (PAI)')">Pendidikan Agama Islam (PAI)</li>
                <li onclick="bukaTugas('Sejarah')">Sejarah</li>
                <li onclick="bukaTugas('Keminang Kabauan')">Keminang Kabauan</li>
                <li onclick="bukaTugas('Pendidikan Kewarganegaraan (PKN)')">Pendidikan Kewarganegaraan (PKN)</li>
                <li onclick="bukaTugas('PJOK')">PJOK</li>
            </ul>
            <button onclick="logout()">Kembali ke Login</button>
        </div>
    </div>

    <div id="tugasPage">
        <div class="tugas-card">
            <h1 id="judulMapel"></h1>
            <div id="daftarTugas"></div>
            <div id="formTambah" style="display:none; margin-top:15px;">
                <input type="text" id="judulTugas" placeholder="Judul Tugas"
                    style="width:100%;padding:8px;margin-bottom:10px; color: black;">
                <input type="text" id="linkTugas" placeholder="Link file (Google Drive / PDF)"
                    style="width:100%;padding:8px;margin-bottom:10px; color: black;">
                <button onclick="tambahTugas()">Tambah Tugas</button>
            </div>
            <button onclick="kembaliKeMapel()">Kembali ke Daftar Mapel</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
        /* Semua JS kamu tetap sama */
        const firebaseConfig = {
            apiKey: "AIzaSyDzZaHCzto7h_07yMp9HMsZdCd3aloviiQ",
            authDomain: "tugas-sklah.firebaseapp.com",
            databaseURL: "https://tugas-sklah-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "tugas-sklah",
            storageBucket: "tugas-sklah.firebasestorage.app",
            messagingSenderId: "327049104689",
            appId: "1:327049104689:web:f2d2a060eeccfad4897410",
            measurementId: "G-XR55GFN1R7"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        let admin = false;
        let currentMapel = "";
        let sidebarOpen = false;
        function login(){const pass=document.getElementById("password").value.trim();const error=document.getElementById("errorMsg");if(pass==="zakiadmin128850"){admin=true;document.getElementById("loginPage").style.display="none";document.getElementById("mapelPage").style.display="block";document.querySelector('.sidebar').style.display='flex';document.getElementById('sidebarToggle').style.display='block';}else if(pass==="zakiaja123"){admin=false;document.getElementById("loginPage").style.display="none";document.getElementById("mapelPage").style.display="block";document.querySelector('.sidebar').style.display='flex';document.getElementById('sidebarToggle').style.display='block';}else{error.style.display="block";}}
        function logout(){document.getElementById("mapelPage").style.display="none";document.getElementById("loginPage").style.display="block";document.getElementById("password").value="";document.getElementById("errorMsg").style.display="none";document.querySelector('.sidebar').style.left='-200px';document.getElementById('sidebarToggle').style.display='none';sidebarOpen=false;}
        function bukaTugas(m){currentMapel=m;document.getElementById("mapelPage").style.display="none";document.getElementById("tugasPage").style.display="block";document.getElementById("judulMapel").innerText=m;document.getElementById("formTambah").style.display=admin?"block":"none";loadTugas();}
        function kembaliKeMapel(){document.getElementById("tugasPage").style.display="none";document.getElementById("mapelPage").style.display="block";}
        function tambahTugas(){const j=document.getElementById("judulTugas").value.trim();const l=document.getElementById("linkTugas").value.trim();if(!j||!l){alert("Lengkapi semua kolom!");return;}const r=db.ref("tugas/"+currentMapel);r.push({judul:j,link:l});document.getElementById("judulTugas").value="";document.getElementById("linkTugas").value="";loadTugas();}
        function loadTugas(){const c=document.getElementById("daftarTugas");c.innerHTML="<p>Memuat...</p>";const r=db.ref("tugas/"+currentMapel);r.on("value",s=>{c.innerHTML="";const d=s.val();if(d){Object.keys(d).forEach(k=>{const t=d[k];const v=document.createElement("div");v.className="tugas-item";v.innerHTML=`<b>${t.judul}</b><br><a href="${t.link}" target="_blank">Lihat / Download</a>`;c.appendChild(v);});}else{c.innerHTML="<em>Belum ada tugas.</em>";}});}
        function tampilkanMapel(){document.getElementById("tugasPage").style.display="none";document.getElementById("mapelPage").style.display="block";}
        function tampilkanTugas(){document.getElementById("mapelPage").style.display="none";document.getElementById("tugasPage").style.display="block";}
        function toggleSidebar(){const s=document.querySelector('.sidebar');sidebarOpen=!sidebarOpen;if(sidebarOpen){s.classList.add('open');s.style.left='0';}else{s.classList.remove('open');s.style.left='-200px';}}
    </script>

    <!-- Script iklan lain (tetap) -->
    <script type='text/javascript' src='//pl27886742.effectivegatecpm.com/3f/85/c3/3f85c37ef55fb270f30ac21b72b0c4ce.js'></script>
    <script type='text/javascript' src='//pl27887171.effectivegatecpm.com/08/4d/04/084d047c00b57bd2d12a46558fda54d4.js'></script>

    <!-- ===== Adsterra Banner ===== -->
    <div class="adsterra-banner">
        <script type="text/javascript">
            atOptions = {
                'key': '58e2955cf8d0fdd6961c1076c8c0bdc5',
                'format': 'iframe',
                'height': 50,
                'width': 320,
                'params': {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/58e2955cf8d0fdd6961c1076c8c0bdc5/invoke.js"></script>
    </div>
</body>
</html>
